<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Product App</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="nav-bar"></div>

	<div id="app">
		<div class="product">

			<div class="product-image">
				<a :href="link">
					<img :src="image" :alt="altText">
				</a>
			</div>

			<div class="product-info">
				<h1>{{ product }}</h1>
				<p>{{ description }}</p>
				<p v-if="inventory > 10">In Stock</p>
				<p v-else-if="inventory > 0 && inventory <= 10">Almost sold out!</p>
				<p v-else>Out of Stock</p>
				<ul>
					<li v-for="detail in details">{{ detail }}</li>
				</ul>

				<div v-for="variant in variants"
					class="color-box" 
					:key="variant.variantId"
					:style="{backgroundColor: variant.variantColor}"
					@mouseover="updateImage(variant.variantImage)">
				</div>

				<div class="cart">
					<p>Cart ({{ cart }})</p>
				</div>

				<button v-on:click="addToCart"
						:disabled="!inStock"
						:class="{ disabledButton: !inStock }">
					Add to cart
				</button>				
			</div>

		</div>
	</div>
	
	<script src="https://unpkg.com/vue@2.5.16/dist/vue.js"></script>
	<script>
		var app = new Vue({
			el: '#app',
			data: {
				product: 'Socks',
				description: 'A pair of warm, fuzzy socks.',
				image: './assets/vmSocks-green.jpg',
				altText: 'A pair of shoes',
				link: 'https://vuemastery.com',
				inStock: false,
				inventory: 11,
				details: ['80% cotton', '20% polyester', 'Gender-neutral'],
				variants: [
					{
						variantId: 2234,
						variantColor: 'green',
						variantImage: './assets/vmSocks-green.jpg'
					},
					{
						variantId: 2235,
						variantColor: 'blue',
						variantImage: './assets/vmSocks-blue.jpg'
					}
				],
				cart: 0
			},
			methods: {
				addToCart() {
					this.cart += 1;
				},
				updateImage(variantImage) {
					this.image = variantImage
				}
			}
		});
	</script>
</body>
</html>